{"version":3,"file":"web-worker.js","sources":["../../src/web-worker/get-sura.js","../../src/utils/object/getproperty.js","../../src/web-worker/get-page.js","../../src/constants.js","../../src/web-worker/get-verse.js","../../src/web-worker/on-message.js","../../src/web-worker/main.js"],"sourcesContent":["/*\nexport default function (source, suraIndex) {\n    const hasSource = source.quran.length > 0;\n    var suraList, chapter;\n\n    if (hasSource) {\n        suraList = source.meta.suras.sura || [];\n        chapter = suraList[suraIndex - 1];\n        return chapter ? [Object.assign({}, chapter, {\n            ayas: source.quran.filter(function (aya) {\n                return aya.sura === suraIndex;\n            })\n        })] : [];\n    }\n\n    return [];\n}\n*/\nexport default function(quran, suraIndex){\n    const sura = quran.Sura || [];\n    return [sura[suraIndex]] || [];\n}\n","export default function (obj, property) {\n    return property.split('.').reduce(function (acc, prop) {\n        return acc && acc[prop];\n    }, obj);\n}\n","import getObjectProperty from '../utils/object/getproperty';\n\nfunction getSuraAyas(Sura, start, end) {\n    var i = start[0],\n        j = start[1] - 1,\n        s2 = end[0],\n        p2 = end[1] - 1,\n        response = [],\n        ayas, aya;\n\n    for (; i <= s2; i++) {\n        aya = Sura[i].ayas[j];\n        ayas = [];\n        while (aya) {\n            if (aya === Sura[s2].ayas[p2]) {\n                break;\n            } else {\n                ayas.push(aya);\n                j++;\n                aya = Sura[i].ayas[j];\n            }\n        }\n\n        if (ayas.length > 0) {\n            response.push(Object.assign({}, Sura[i], {\n                ayas: ayas\n            }));\n        }\n\n        j = 0;\n    }\n\n    return response;\n}\n\nexport default function getPage(Quran, i) {\n    var pages = getObjectProperty(Quran, 'Page') || [],\n        suras = getObjectProperty(Quran, 'Sura') || [],\n        start = pages[i],\n        end = pages[i + 1];\n\n    if (start && end) {\n        return getSuraAyas(suras, start, end);\n    } else {\n        return [];\n    }\n}\n","export const TYPE_PAGE = 'page';\nexport const TYPE_SURA = 'sura';\nexport const ACTION_LOAD = 'LOAD';\nexport const ACTION_GOTO_INDEX = 'GOTO_INDEX';\nexport const ACTION_CHANGE_TYPE = 'CHANGE_TYPE';\nexport const ACTION_APPLY = 'APPLY';\nexport const ACTION_PAGING_OPTIONS = 'PAGING_OPTIONS';\n\nexport const SURA_AR = 'سورة‎‎';\nexport const BISMILLAH_AR = '\\u00d8\\u00a8\\u00d9\\u0090\\u00d8\\u00b3\\u00d9\\u2019\\u00d9\\u2026\\u00d9\\u0090 \\u00d8\\u00a7\\u00d9\\u201e\\u00d9\\u201e\\u00d9\\u017d\\u00d9\\u2018\\u00d9\\u2021\\u00d9\\u0090 \\u00d8\\u00a7\\u00d9\\u201e\\u00d8\\u00b1\\u00d9\\u017d\\u00d9\\u2018\\u00d8\\u00ad\\u00d9\\u2019\\u00d9\\u2026\\u00d9\\u017d\\u00d9\\u2020\\u00d9\\u0090 \\u00d8\\u00a7\\u00d9\\u201e\\u00d8\\u00b1\\u00d9\\u017d\\u00d9\\u2018\\u00d8\\u00ad\\u00d9\\u0090\\u00d9\\u0160\\u00d9\\u2026\\u00d9\\u0090';\n","import getSura from './get-sura';\nimport getPage from './get-page';\nimport {TYPE_PAGE, TYPE_SURA} from '../constants';\n\nexport default function (type, index, source) {\n    switch (type) {\n        case TYPE_SURA:\n            return getSura(source, index);\n        case TYPE_PAGE:\n            return getPage(source, index);\n        default:\n            return [];\n    }\n}\n","//import prepare from './prepare';\nimport getVerse from './get-verse';\nimport {ACTION_LOAD, ACTION_GOTO_INDEX} from '../constants';\n\nexport default function (e) {\n    var worker = e.target,\n        eData = e.data,\n        message = eData.message,\n        messageId = eData.messageId,\n        data = message.data;\n\n    switch (message.action) {\n        /*case ACTION_LOAD:\n            worker.postMessage({\n                messageId: messageId,\n                type: message.action,\n                data: prepare(data)\n            });\n            break;*/\n        case ACTION_GOTO_INDEX:\n            worker.postMessage({\n                messageId: messageId,\n                type: message.action,\n                data: getVerse(data.type, data.index, data.quran)\n            });\n            break;\n        default:\n            console.log(message)\n    }\n}\n","import onMessage from './on-message';\n\nself.onmessage = onMessage;\n"],"names":["quran","suraIndex","sura","Sura","obj","property","split","reduce","acc","prop","getSuraAyas","start","end","i","j","s2","p2","response","ayas","aya","push","length","Object","assign","getPage","Quran","pages","getObjectProperty","suras","TYPE_PAGE","TYPE_SURA","ACTION_GOTO_INDEX","type","index","source","getSura","e","worker","target","eData","data","message","messageId","action","postMessage","getVerse","log","self","onmessage","onMessage"],"mappings":";;;AAAA;;;;;;;;;;;;;;;;;;AAkBA,cAAe,UAASA,KAAT,EAAgBC,SAAhB,EAA0B;QAC/BC,OAAOF,MAAMG,IAAN,IAAc,EAA3B;WACO,CAACD,KAAKD,SAAL,CAAD,KAAqB,EAA5B;;;ACpBJ,wBAAe,UAAUG,GAAV,EAAeC,QAAf,EAAyB;WAC7BA,SAASC,KAAT,CAAe,GAAf,EAAoBC,MAApB,CAA2B,UAAUC,GAAV,EAAeC,IAAf,EAAqB;eAC5CD,OAAOA,IAAIC,IAAJ,CAAd;KADG,EAEJL,GAFI,CAAP;;;ACCJ,SAASM,WAAT,CAAqBP,IAArB,EAA2BQ,KAA3B,EAAkCC,GAAlC,EAAuC;QAC/BC,IAAIF,MAAM,CAAN,CAAR;QACIG,IAAIH,MAAM,CAAN,IAAW,CADnB;QAEII,KAAKH,IAAI,CAAJ,CAFT;QAGII,KAAKJ,IAAI,CAAJ,IAAS,CAHlB;QAIIK,WAAW,EAJf;QAKIC,IALJ;QAKUC,GALV;;WAOON,KAAKE,EAAZ,EAAgBF,GAAhB,EAAqB;cACXV,KAAKU,CAAL,EAAQK,IAAR,CAAaJ,CAAb,CAAN;eACO,EAAP;eACOK,GAAP,EAAY;gBACJA,QAAQhB,KAAKY,EAAL,EAASG,IAAT,CAAcF,EAAd,CAAZ,EAA+B;;aAA/B,MAEO;qBACEI,IAAL,CAAUD,GAAV;;sBAEMhB,KAAKU,CAAL,EAAQK,IAAR,CAAaJ,CAAb,CAAN;;;;YAIJI,KAAKG,MAAL,GAAc,CAAlB,EAAqB;qBACRD,IAAT,CAAcE,OAAOC,MAAP,CAAc,EAAd,EAAkBpB,KAAKU,CAAL,CAAlB,EAA2B;sBAC/BK;aADI,CAAd;;;YAKA,CAAJ;;;WAGGD,QAAP;;;AAGJ,AAAe,SAASO,OAAT,CAAiBC,KAAjB,EAAwBZ,CAAxB,EAA2B;QAClCa,QAAQC,kBAAkBF,KAAlB,EAAyB,MAAzB,KAAoC,EAAhD;QACIG,QAAQD,kBAAkBF,KAAlB,EAAyB,MAAzB,KAAoC,EADhD;QAEId,QAAQe,MAAMb,CAAN,CAFZ;QAGID,MAAMc,MAAMb,IAAI,CAAV,CAHV;;QAKIF,SAASC,GAAb,EAAkB;eACPF,YAAYkB,KAAZ,EAAmBjB,KAAnB,EAA0BC,GAA1B,CAAP;KADJ,MAEO;eACI,EAAP;;;;AC5CD,IAAMiB,YAAY,MAAlB;AACP,AAAO,IAAMC,YAAY,MAAlB;AACP;AACA,AAAO,IAAMC,oBAAoB,YAA1B;;ACCP,eAAe,UAAUC,IAAV,EAAgBC,KAAhB,EAAuBC,MAAvB,EAA+B;YAClCF,IAAR;aACSF,SAAL;mBACWK,QAAQD,MAAR,EAAgBD,KAAhB,CAAP;aACCJ,SAAL;mBACWL,QAAQU,MAAR,EAAgBD,KAAhB,CAAP;;mBAEO,EAAP;;;;ACXZ;AACA,AAGA,gBAAe,UAAUG,CAAV,EAAa;QACpBC,SAASD,EAAEE,MAAf;QACIC,QAAQH,EAAEI,IADd;QAEIC,UAAUF,MAAME,OAFpB;QAGIC,YAAYH,MAAMG,SAHtB;QAIIF,OAAOC,QAAQD,IAJnB;;YAMQC,QAAQE,MAAhB;;;;;;;;aAQSZ,iBAAL;mBACWa,WAAP,CAAmB;2BACJF,SADI;sBAETD,QAAQE,MAFC;sBAGTE,SAASL,KAAKR,IAAd,EAAoBQ,KAAKP,KAAzB,EAAgCO,KAAKxC,KAArC;aAHV;;;oBAOQ8C,GAAR,CAAYL,OAAZ;;;;ACzBZM,KAAKC,SAAL,GAAiBC,SAAjB;;;;"}